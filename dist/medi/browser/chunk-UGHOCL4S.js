import{c as T,d as C,f as k,g as E,h as I}from"./chunk-XAZLOLJU.js";import{Aa as b,Ba as y,H as _,Ja as d,K as h,Ka as B,L as O,La as U,Na as $,O as j,Ua as N,V as g,W as f,Y as D,Za as P,_ as u,_a as V,ab as z,ca as A,cb as L,fa as a,ga as v,h as S,ha as R,oa as w,pa as m,ra as F,t as l,tb as Y,ub as X,va as p,wa as c,xa as x,za as M}from"./chunk-32OPWHZX.js";var s=function(e){return e.center="dialog-center",e.top="dialog-top",e.bottom="dialog-bottom",e.left="dialog-left",e.right="dialog-right",e}(s||{}),r=function(e){return e[e.isAlert=1]="isAlert",e[e.isSuccess=2]="isSuccess",e[e.isError=3]="isError",e[e.isLoading=4]="isLoading",e}(r||{});function J(e,G){e&1&&x(0,"div",12)}function K(e,G){if(e&1){let t=M();p(0,"div",13)(1,"button",14),b("click",function(){g(t);let n=y();return f(n.onSubmit())}),d(2,"Realizar"),c(),p(3,"button",15),b("click",function(){g(t);let n=y();return f(n.onCancel())}),d(4,"Cancelar"),c()()}}var q=(()=>{class e{constructor(t,i){this.elementRef=t,this.iconRegistry=i,this.title="Agregado correctamente",this.description="",this.iconUrl="assets/icons/heroicons/outline/check-badge.svg",this.colorIcon="text-green-700",this.withBackground=!1,this.cdr=O(N),this.position=[s.bottom,s.right],this.withActions=!0,this.isOpen=!1,this.timer$=l(100),this.timerClose$=null,this.closeEvent=new u,this.submitEvent=new u,this.cancelEvent=new u}ngOnInit(){this.notifierFromParent?.subscribe({next:t=>{this.onSubmit()},error:t=>{this.onSubmit()},complete:()=>{this.close()}}),this.timer$.subscribe(t=>{this.isOpen=!0,this.cdr.detectChanges()}),this.timerClose$?.subscribe(t=>{this.isOpen=!1,this.cdr.detectChanges(),this.onSubmit()})}changeState(){let t=this.isOpen;this.isOpen=!t}onSubmit(){this.isOpen=!1,this.elementRef.nativeElement.remove(),this.submitEvent.emit()}close(){this.isOpen=!1,this.elementRef.nativeElement.remove(),this.closeEvent.emit()}onCancel(){this.isOpen=!1,this.elementRef.nativeElement.remove(),this.cancelEvent.emit()}static{this.\u0275fac=function(i){return new(i||e)(v(A),v(Y))}}static{this.\u0275cmp=j({type:e,selectors:[["app-dialog"]],inputs:{title:"title",description:"description",iconUrl:"iconUrl",colorIcon:"colorIcon",withBackground:"withBackground",notifierFromParent:"notifierFromParent",position:"position",withActions:"withActions",isOpen:"isOpen",timer$:"timer$",timerClose$:"timerClose$"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent",cancelEvent:"cancelEvent"},standalone:!0,features:[$],decls:14,vars:10,consts:[["class","fixed inset-0 z-20 bg-gray-500 bg-opacity-75 transition-opacity ","aria-hidden","true",4,"ngIf"],[1,"flex","h-full","text-center"],[3,"ngClass"],[1,"px-4","pb-4","pt-5","sm:p-6","sm:pb-4"],[1,"flex","items-center","justify-center"],[1,"mt-3","items-center","w-fit","text-center","sm:mt-0","flex","flex-col","gap-3"],["id","modal-title",1,"items-center","w-full","font-semibold","leading-6","text-foreground","text-xl"],[1,"mx-auto","flex","h-12","flex-shrink-0","items-center","w-full","justify-center","rounded-full"],[3,"src","svgClass"],[1,"mt-2"],[1,"text-sm","text-muted-foreground"],["class"," px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",4,"ngIf"],["aria-hidden","true",1,"fixed","inset-0","z-20","bg-gray-500","bg-opacity-75","transition-opacity"],[1,"px-4","py-3","sm:flex","sm:flex-row-reverse","sm:px-6"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-red-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-red-500","sm:ml-3","sm:w-auto",3,"click"],["type","button",1,"mt-3","inline-flex","w-full","justify-center","rounded-md","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","sm:mt-0","sm:w-auto",3,"click"]],template:function(i,n){i&1&&(w(0,J,1,0,"div",0),p(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),d(7),c(),p(8,"div",7),x(9,"svg-icon",8),c(),p(10,"div",9)(11,"p",10),d(12),c()()()()(),w(13,K,5,0,"div",11),c()()),i&2&&(m("ngIf",n.withBackground),a(),m("@openClose",n.isOpen?"open":"closed"),a(),m("ngClass","dialog "+(n.position==null?null:n.position.join(" "))),a(5),U("",n.title," "),a(2),F(n.colorIcon),m("src",n.iconUrl)("svgClass","h-12 w-12"),a(3),B(n.description),a(),m("ngIf",n.withActions))},dependencies:[L,V,z,X],styles:[".dialog[_ngcontent-%COMP%]{position:absolute;z-index:20;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));align-items:center;overflow:hidden;border-radius:.5rem;background-color:hsl(var(--background));--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.dialog-top[_ngcontent-%COMP%]{top:.75rem}.dialog-center[_ngcontent-%COMP%]{top:50%;left:50%;--tw-translate-x: -50%;--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.dialog-bottom[_ngcontent-%COMP%]{bottom:.75rem}.dialog-left[_ngcontent-%COMP%]{left:.75rem}.dialog-right[_ngcontent-%COMP%]{right:.75rem}"],data:{animation:[T("openClose",[E("open",k({opacity:1,visibility:"visible"})),E("closed",k({opacity:0,visibility:"hidden"})),I("open => closed",[C("0.3s")]),I("closed => open",[C("0.1s")])])]}})}}return e})();var ut=(()=>{class e{constructor(t,i,n){this.resolver=t,this.injector=i,this.document=n,this.onOpen=l(1e3)}open(t){let n=this.resolver.resolveComponentFactory(q).create(this.injector),o=n.instance;if(t.typeDialog)switch(t.typeDialog){case r.isAlert:o.iconUrl="assets/icons/heroicons/outline/exclamation.svg",o.colorIcon="text-orange-500";break;case r.isSuccess:o.iconUrl="assets/icons/heroicons/outline/check-badge.svg",o.colorIcon="text-green-700";break;case r.isLoading:o.iconUrl="assets/icons/loading.svg",o.colorIcon="text-primary";break;case r.isError:o.iconUrl="assets/icons/heroicons/outline/exclamation.svg",o.colorIcon="text-red-500";break}return t.options&&(o.position=t.options.position,o.withActions=t.options.withActions,o.timerClose$=t.options.timeToShow?t.options.timeToShow:null,o.withBackground=t.options.withBackground,o.colorIcon=t.options.colorIcon),t.data&&(o.title=t.data.title,o.description=t.data.description,o.iconUrl=t.data.icon),t.listener&&(o.notifierFromParent=t.listener),o.closeEvent.subscribe(()=>{this.closeDialog()}),o.submitEvent.subscribe(()=>{this.submitDialog()}),o.cancelEvent.subscribe(()=>{}),this.onOpen.subscribe(()=>{n.hostView.detectChanges(),o.isOpen=!0}),this.document.body.appendChild(n.location.nativeElement),n.hostView.detectChanges(),this.dialogNotifier=new S,this.dialogNotifier.asObservable()}ShowSuccess(t){let i={typeDialog:r.isSuccess,listener:t.listener,data:{title:"Realizado con \xE9xito",description:t.description,icon:"assets/icons/heroicons/outline/check-badge.svg"},options:{withBackground:!0,position:[s.top,s.right],colorIcon:"text-green-500",timeToShow:t.timer??l(2e3)}};this.open(i)}showLoading(t){let i={typeDialog:r.isLoading,listener:t.listener,data:{title:"Cargando",description:t.description,icon:"assets/icons/loading.svg"},options:{withActions:!1,withBackground:!0,position:[s.center],colorIcon:"text-primary"}};return this.open(i)}showError(t){let i={typeDialog:r.isError,listener:t.listener,data:{title:"Error",description:t.description,icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withBackground:!0,position:[s.top,s.right],colorIcon:"text-red-500",timeToShow:t.timer??l(2e3)}};return this.open(i)}showAlert(t){let i={typeDialog:r.isAlert,data:{title:"Advertencia",description:t.description,icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[s.center],withBackground:!0,colorIcon:"text-red-500"}};return this.open(i)}closeDialog(){this.dialogNotifier?.complete()}submitDialog(){this.dialogNotifier?.next(null),this.closeDialog()}cancelDialog(){this.dialogNotifier?.error(null),this.closeDialog()}static{this.\u0275fac=function(i){return new(i||e)(h(R),h(D),h(P))}}static{this.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{ut as a};
